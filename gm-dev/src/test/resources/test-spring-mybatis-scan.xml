<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:tx="http://www.springframework.org/schema/tx" xmlns:aop="http://www.springframework.org/schema/aop"
  xsi:schemaLocation="
       http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans-4.0.xsd
       http://www.springframework.org/schema/aop
       http://www.springframework.org/schema/aop/spring-aop-4.0.xsd
       http://www.springframework.org/schema/context
       http://www.springframework.org/schema/context/spring-context-4.0.xsd">

  <!-- dao接口注入自动扫描，如果添加模块，需要到这里配置basePackage，逗号隔开 -->
  <bean class="org.mybatis.spring.mapper.MapperScannerConfigurer">
    <property name="basePackage" value="org.amberframework,com.csot,haha.test" />
    <!-- 扫描basePackage下所有以@MyBatisRepository注解标识的接口或继承于MyBatisBaseMapper接口的接口（两者取并集），用于缩小搜索范围 ，防止搜索到其他bean -->
    <property name="annotationClass" value="org.amberframework.core.mybatis.annotation.MyBatisRepository" />
    <property name="markerInterface" value="org.amberframework.core.mybatis.dao.MyBatisBaseMapper" />
    <property name="sqlSessionFactoryBeanName" value="sqlSessionFactory"></property>
  </bean>

  <bean class="org.ambertestframework.config.SpringTestContextConfig" />
  
  <!-- Sql session factory : myBatis -->
  <!-- Spring Test框架通过XML加载context不支持从properties取值和classpath的通配符，所以使用上面的SpringTestContextConfig生成sqlSessionFactory
  <bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean">
    <property name="dataSource" ref="dataSource" />

    <property name="configLocation" value="classpath:mybatis-config.xml"></property>

    <property name="mapperLocations">
      <list>
        <value>classpath:com/csot/**/*Mapper.xml</value>
        <value>classpath:haha/test/**/oracle/**/*Mapper.xml</value>
        <value>classpath:org/amberframework/web/system/mapper/oracle/extension/auth/SysUserExtMapper.xml</value>
        <value>classpath:org/amberframework/web/system/mapper/oracle/original/auth/SysUserMapper.xml</value>
      </list>
    </property>
  </bean>
   -->

</beans>