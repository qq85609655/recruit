<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.csot.gm.esbws.dao.AccountInfoDao">

  <resultMap id="ResultMap" type="com.csot.gm.esbws.entity.AccountInfoEntity" >
  <result column="ID" property="id" jdbcType="VARCHAR" />
  <result column="TYPE" property="type" jdbcType="VARCHAR" />
  <result column="NAME" property="name" jdbcType="VARCHAR" />
  <result column="CODE" property="code" jdbcType="VARCHAR" />
  <result column="PCODE" property="pcode" jdbcType="VARCHAR" />
  <result column="MOBILE" property="mobile" jdbcType="VARCHAR" />
  <result column="TELEPHONE" property="telephone" jdbcType="VARCHAR" />
  <result column="UPDATE_TIME" property="updateTime" jdbcType="VARCHAR" />
  </resultMap>
  
  
  <select id="queryItemByCode" parameterType="java.lang.String" resultMap="ResultMap">
    select ID, TYPE, NAME, CODE, PCODE, MOBILE, TELEPHONE, UPDATE_TIME from T_GM_USER_INFO where CODE = #{code}
  </select>
  
  <select id="queryChildItemsByCode" parameterType="java.lang.String" resultMap="ResultMap">
    select ID, TYPE, NAME, CODE, PCODE, MOBILE, TELEPHONE, UPDATE_TIME from T_GM_USER_INFO where PCODE = #{code}
  </select>
  
  <insert id="createAccountInfo" parameterType="com.csot.gm.esbws.entity.AccountInfoEntity">
    insert into T_GM_USER_INFO 
    (ID, TYPE, NAME, CODE, PCODE, MOBILE, TELEPHONE, UPDATE_TIME) 
    values 
    (#{id}, #{type}, #{name}, #{code}, #{pcode}, #{mobile}, #{telephone}, #{updateTime})
  </insert>
  
  <update id="updateAccountInfo" parameterType="com.csot.gm.esbws.entity.AccountInfoEntity">
    update T_GM_USER_INFO set 
    NAME = #{name}, PCODE = #{pcode}, MOBILE = #{mobile}, TELEPHONE = #{telephone}, UPDATE_TIME = #{updateTime} 
    where CODE = #{code}
  </update>
  
  <delete id="removeAccountInfo" parameterType="java.lang.String">
    delete from T_GM_USER_INFO 
    where CODE = #{code}
  </delete>
</mapper>