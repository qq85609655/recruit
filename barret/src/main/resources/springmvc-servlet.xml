<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:mvc="http://www.springframework.org/schema/mvc"
       xmlns:task="http://www.springframework.org/schema/task"
       xmlns:p="http://www.springframework.org/schema/p"
       xsi:schemaLocation="
       http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans-4.0.xsd
       http://www.springframework.org/schema/context
       http://www.springframework.org/schema/context/spring-context-4.0.xsd
       http://www.springframework.org/schema/mvc
	   	 http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd
       http://www.springframework.org/schema/task
       http://www.springframework.org/schema/task/spring-task-4.0.xsd">

  <!-- 启用spring mvc 注解 -->
  <!--<context:annotation-config />-->

  <!-- 自动扫描base-package包下的所有controller类，使其认为spring mvc的控制器 -->
  <!--<context:component-scan/> 配置项不但启用了对类包进行扫描以实施注释驱动 Bean 定义的功能，
  同时还启用了注释驱动自动注入的功能（即还隐式地在内部注册了 AutowiredAnnotationBeanPostProcessor 和
  CommonAnnotationBeanPostProcessor），因此当使用 <context:component-scan/> 后，
  就可以将 <context:annotation-config/> 移除了-->
  <!-- 只加载controller,service已经加载过 -->
  <context:component-scan base-package="com.csot.barret.*" use-default-filters="false">
    <context:include-filter type="annotation" expression="org.springframework.stereotype.Controller" />
  </context:component-scan>

  <!--注解映射器 -->
  <!-- <bean class="org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping"/> -->
  <!--注解适配器 -->
  <!-- <bean class="org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter"/> -->
  <!--使用mvc:annotation-driven代替上边注解映射器和注解适配器 配置
      mvc:annotation-driven默认加载很多的参数绑定方法，
      比如json转换解析器就默认加载了，如果使用mvc:annotation-driven就不用配置上面的RequestMappingHandlerMapping和RequestMappingHandlerAdapter
      实际开发时使用mvc:annotation-driven
   -->
  <mvc:annotation-driven></mvc:annotation-driven>

  <!-- 默认静态资源映射 -->
  <mvc:default-servlet-handler />

  <!-- 静态资源映射 -->
  <mvc:resources mapping="/resources/**" location="/resources/" />

  <!-- 默认的视图解析器 -->
  <bean id="defaultViewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver"
        p:order="3">
    <property name="viewClass" value="org.springframework.web.servlet.view.JstlView" />
    <property name="contentType" value="text/html" />
    <property name="prefix" value="/webpage/" />
    <property name="suffix" value=".jsp" />
  </bean>

</beans>