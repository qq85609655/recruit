<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:tx="http://www.springframework.org/schema/tx" xmlns:aop="http://www.springframework.org/schema/aop"
  xsi:schemaLocation="
       http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans-4.0.xsd
       http://www.springframework.org/schema/aop
       http://www.springframework.org/schema/aop/spring-aop-4.0.xsd
       http://www.springframework.org/schema/context
       http://www.springframework.org/schema/context/spring-context-4.0.xsd">

  <!-- dao接口注入自动扫描，如果添加模块，需要到这里配置basePackage，逗号隔开 -->
<bean class="org.mybatis.spring.mapper.MapperScannerConfigurer">
    <property name="basePackage" value="com.csot" />
    <!-- 扫描basePackage下所有以@MyBatisRepository注解标识的接口或继承于MyBatisBaseMapper接口的接口（两者取并集），用于缩小搜索范围 ，防止搜索到其他bean -->
    <!-- mybatis扫描的类和spring扫描的类会冲突，故要指定mybatis要扫描到具体哪些类，可用继承或者注解的方式标注-->
  <property name="annotationClass" value="com.csot.barret.core.mybatis.annotation.MyBatisRepository" />
    <property name="markerInterface" value="com.csot.barret.core.mybatis.dao.MyBatisBaseMapper" />
    <property name="sqlSessionFactoryBeanName" value="sqlSessionFactory"></property>
  </bean><!--  -->
  
  <!-- Sql session factory : myBatis 自动提交关闭-->
  <bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean">
    <property name="dataSource" ref="dataSource" />
    <!-- mapper.xml自动扫描，如果添加模块，需要到这里配置 -->
    <!-- mapperLocations表示我们的Mapper文件存放的位置，当我们的Mapper文件跟对应的Mapper接口处于同一位置的时候可以不用指定该属性的值 -->
    <!-- mapper.xml扫描必须制定文件类型，即以*.xml结尾-->
    <property name="mapperLocations">
      <list>
        <value>classpath:com/csot/**/mapper/*Mapper.xml</value>
      </list>
    </property>
  </bean>
</beans>