<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ include file="/webpage/common.jsp"%>
<!DOCTYPE html>
<html>
<head>
<base href="${basePath}">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<title>招聘需求申请</title>
<style>
html, body {
  overflow: hidden; /* overflow|overflow-x|overflow-y : visible|hidden|scroll|auto */
}

fieldset {
  border: solid 1px #aaa;
  margin: 10px;
  font-size: 10px;
}

.form-label {
  color: #888;
  display: inline-block;
  padding-left: 10px;
  font-size: 12px;
  font-family: 微软雅黑;
  width: 110px;
  text-align: right;
}

table {
  line-height: 40px;
  position: relative;
}

marker-color {
  color: red;
}

td {
  line-height: 30px;
  height: 30px;
}
</style>
</head>
<body>
  <form id="form1" class="fieldset-body" method="post" enctype="multipart/form-data">
    <input id="postName" name="postName" class="mini-hidden" value="" /> <input
      id="organizationDesc" name="reserved1" class="mini-hidden" value="" /> <input
      id="jobFamilyDesc" name="reserved2" class="mini-hidden" value="" />
    <div style="margin: 10px" align="center">

      <fieldset class="fieldset" id="fd1" style="font-family: 微软雅黑; padding-bottom: 10px">
        <legend>
          <span style="font-size: 15px; align: center">基本信息</span>
        </legend>
        <table class="form-table" border="0" cellpadding="10" cellspacing="10">
          <tr>
            <td class="form-label">主题<span style="color: red">*</span>：
            </td>
            <td><input id="theme" name="theme" class="mini-textbox"
              value="${campusPost.jobClass}" required="true" /></td>
            <td class="form-label">申请部门：</td>
            <td><input name="jobSubclass" class="mini-textbox"
              value="${campusPost.jobSubclass}" required="true" readonly="readonly" /></td>
            <td class="form-label">申请岗位：</td>
            <td><input name="jobSubclass" class="mini-textbox"
              value="${campusPost.jobSubclass}" required="true" readonly="readonly" /></td>
          </tr>
          <tr>
            <td class="form-label">员工类别<span style="color: red">*</span>：
            </td>
            <td><input class="mini-radiobuttonlist" textField="typeName" valueField="typt"
              value="${template.type}" required="true" requiredErrorText="员工类别不能为空"
              data="[{typt: 1, typeName: '现场人员'}, {typt: 2, typeName: '职员'}]" /></td>
            <td class="form-label">境内境外：</td>
            <td><input class="mini-radiobuttonlist" textField="typeName" valueField="typt"
              value="${template.type}" data="[{typt: 1, typeName: '境内'}, {typt: 2, typeName: '境外'}]" /></td>
            <td class="form-label">招聘需求来源<span style="color: red">*</span>：
            </td>
            <td><input id="organization" class="mini-combobox" name="organization"
              onvalidation="onComboValidation" value="${campusPost.organization}"
              valueField="typeId"
              url="/recruit/datadictGroupTypeController/getDictsByCode/campus_company"
              required="true" allowInput="true" textField="typeName" pinyinField="tag"
              onvaluechanged="onOrganizationChanged()" /></td>
          </tr>
          <tr>
            <td class="form-label">离职/转调人<span style="color: red">*</span>：
            </td>
            <td><input id="theme" name="theme" class="mini-textbox"
              value="${campusPost.jobClass}" /></td>
            <td class="form-label">申请人数：</td>
            <td><input name="jobSubclass" class="mini-textbox"
              value="${campusPost.jobSubclass}" required="true" /></td>
            <td class="form-label">申请日期：</td>
            <td><input name="effect-date" id="effectiveDate" class="mini-datepicker"></input></td>
          </tr>
          <tr>
            <td class="form-label">职级<span style="color: red">*</span>：
            </td>
            <td><input id="organization" class="mini-combobox" name="organization"
              value="${campusPost.organization}" valueField="typeId" required="true"
              textField="typeName" data="[{typeId: 1, typeName: '科长'}, {typeId: 2, typeName: '部长'}]" /></td>
            <td class="form-label">预计到岗时间：</td>
            <td><input name="jobSubclass" class="mini-textbox"
              value="${campusPost.jobSubclass}" required="true" /></td>
            <td class="form-label">期望到岗时间：</td>
            <td><input type="text" class="mini-datepicker" required="true"></input></td>
          </tr>
          <tr>
            <td class="form-label">岗位工作描述<span style="color: red">*</span>：
            </td>
            <td colspan="5"><input name="postDescribe" class="mini-textarea"
              value="${campusPost.postDescribe}" style="width: 400px; height: 60px;" required="true" /></td>
          </tr>
        </table>
      </fieldset>
      <fieldset class="fieldset" id="fd2" style="font-family: 微软雅黑; padding-bottom: 10px">
        <legend>
          <span style="font-size: 15px; align: center">岗位任职条件</span>
        </legend>
        <table class="form-table" border="0" cellpadding="30" cellspacing="30">
          <tr>
            <td class="form-label">性别<span style="color: red">*</span>：
            </td>
            <td><input class="mini-radiobuttonlist" textField="typeName" valueField="typt"
              value="${template.type}" required="true" requiredErrorText="员工类别不能为空"
              data="[{typt: 1, typeName: '男'}, {typt: 2, typeName: '女'}, {typt: 3, typeName: '不限'}]" /></td>
            <td class="form-label">学历：</td>
            <td><input name="jobSubclass" class="mini-textbox"
              value="${campusPost.jobSubclass}" required="true" /></td>
            <td class="form-label">专业：</td>
            <td><input name="jobSubclass" class="mini-textbox"
              value="${campusPost.jobSubclass}" required="true" /></td>
          </tr>
          <tr>
            <td class="form-label">工作经验<span style="color: red">*</span>：
            </td>
            <td colspan="5"><input name="postDescribe" class="mini-textarea"
              value="${campusPost.postDescribe}" style="width: 400px; height: 60px;" required="true" /></td>
          </tr>
          <tr style="margin-top: 10px;">
            <td class="form-label">必备技能<span style="color: red">*</span>：
            </td>
            <td colspan="5"><input name="postDescribe" class="mini-textarea"
              value="${campusPost.postDescribe}" style="width: 400px; height: 60px;" required="true" /></td>
          </tr>
          <tr style="margin-top: 10px;">
            <td class="form-label">素质及能力要求<span style="color: red">*</span>：
            </td>
            <td colspan="5"><input name="postDescribe" class="mini-textarea"
              value="${campusPost.postDescribe}" style="width: 400px; height: 60px;" required="true" /></td>
          </tr>
        </table>
      </fieldset>
    </div>
    <div style="text-align: center; padding: 10px;">
      <a id="rtnBtn" class="mini-button" onclick="onCancel()"
        style="width: 80px; margin-right: 40px;">取消</a> <a class="mini-button"
        onclick="submitForm()" style="width: 80px;">确定</a>
    </div>
  </form>
  <script type="text/javascript">
      mini.parse();
      var form = new mini.Form("form1");

      function submitForm() {
        form.validate();
        if (form.isValid() == false) {
          return;
        }
        SaveData("/recruit/campusPostController/save", $("#form1").serialize());
      }

      function onCancel(e) {
        CloseWindow("close", form);
      }

      function onPostChanged() {
        var postName = mini.get("postId").getText();
        mini.get("postName").setValue(postName);
        mini.get("jobClass").setValue(postName);
      }

      function onOrganizationChanged() {
        var organizationDesc = mini.get("organization").getText();
        mini.get("organizationDesc").setValue(organizationDesc);
      }

      function onJobFamilyChanged() {
        var jobFamilyDesc = mini.get("jobFamily").getText();
        mini.get("jobFamilyDesc").setValue(jobFamilyDesc);
      }

      function onComboValidation(e) {
        var items = this.findItems(e.value);
        if (!items || items.length == 0) {
          e.isValid = false;
          e.errorText = "[" + e.value + "]" + "不在下拉数据中";
        }
      }
    </script>

</body>
</html>
